(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{263:function(e,t,a){"use strict";(function(e){var n=a(4),r=a(5),o=a(8),l=a(6),i=a(7),s=a(0),c=a.n(s),m=a(294),u=a(27),d=a(615),p=(a(311),a(312),a(295)),h=a(296),f=a(293),b=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(o.a)(this,Object(l.a)(t).call(this))).state={loading:!0,loaded:!1},e}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",function(){e.setState({loading:!1}),setTimeout(function(){return e.setState({loaded:!0})},500)})}},{key:"render",value:function(){var e=this.state,t=e.loaded,a=e.loading;return c.a.createElement(u.a,{store:h.a},c.a.createElement(d.a,null,c.a.createElement(f.a,null,c.a.createElement(s.Fragment,null,!t&&c.a.createElement("div",{className:"load".concat(a?"":" loaded")},c.a.createElement("div",{className:"load__icon-wrap"},c.a.createElement("svg",{className:"load__icon"},c.a.createElement("path",{fill:"#4ce1b6",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})))),c.a.createElement("div",null,c.a.createElement(p.a,null))))))}}]),t}(s.Component);t.a=Object(m.hot)(e)(b)}).call(this,a(136)(e))},293:function(e,t,a){"use strict";var n=a(4),r=a(5),o=a(8),l=a(6),i=a(7),s=a(0),c=a(614),m=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.PureComponent);t.a=Object(c.a)(m)},295:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(629),l=a(269),i=a(4),s=a(5),c=a(8),m=a(6),u=a(7),d=a(614),p=a(27),h=a(11),f=a.n(h),b="".concat("","/img/burger.svg"),E=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"topbar__button topbar__button--desktop",onClick:a},r.a.createElement("img",{src:b,alt:"",className:"topbar__button-icon"})),r.a.createElement("button",{type:"button",className:"topbar__button topbar__button--mobile",onClick:t},r.a.createElement("img",{src:b,alt:"",className:"topbar__button-icon"})))}}]),t}(n.PureComponent),g=a(265),v=a.n(g),_=a(627),y=a(179);function N(e,t){return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)})}function k(e,t){return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)})}function O(e){return fetch(e)}var S={login:"/api/v1/auth/admin",loginStatus:"/api/v1/auth/admin/loginstatus",logout:"/api/v1/admin/logout",sendOTP:"/api/v1/sendOTP",doctorList:"/api/v1/admin/getDoctors/",createDoctor:"/api/v1/admin/createDoctor",updateDoctor:"/api/v1/admin/updateDoctor",uploadProfileImage:"/api/v1/admin/uploadDoctorProfileImage",deleteProfileImage:"/api/v1/admin/deleteDoctorProfileImage/",getSpecializations:"/api/v1/admin/getSpecializations",createHospital:"/api/v1/admin/createHospital",updateHospital:"/api/v1/admin/updateHospital",createSchedule:"/api/v1/admin/createSchedule",getDoctorMasterList:"/api/v1/admin/getMasterDoctors",getHospitalMasterList:"/api/v1/admin/getMasterHospitals",getFrontdeskUsersMasterList:"/api/v1/admin/getMasterFrontdeskUsers",createFrontdeskUser:"/api/v1/admin/createFrontdeskUser/",getDoctorFrontdeskUser:"/api/v1/admin/getDoctorFrontdeskUser/",linkFrontdeskUser:"/api/v1/admin/linkFrontdeskUser",getFrontDeskUsers:"/api/v1/admin/getFrontdeskUsers",getCustomerList:"/api/v1/admin/getCustomers/",getScheduleList:"/api/v1/admin/getSchedules/",getScheduleDetail:"/api/v1/admin/getScheduleDetails/",blockUser:"/api/v1/admin/blockUser",unblockUser:"/api/v1/admin/unblockUser",getHospitalList:"/api/v1/admin/getHospitals/",getHospitalDetail:"/api/v1/admin/getHospitalDetails/",getDoctorDetail:"/api/v1/admin/getDoctorDetails/",getScheduleDoctors:"/api/v1/admin/getScheduleDoctors/",getScheduleHospitals:"/api/v1/admin/getScheduleHospitals",sendAnnouncement:"/api/v1/messages/push",getAnnouncements:"/api/v1/admin/getAnnouncements",getBookings:"/api/v1/admin/getBookingHistory",getBookingDetail:"/api/v1/admin/getBookingHistoryDetail",getSupportDetails:"/api/v1/user/getSupportDetails",setSupportDetails:"/api/v1/admin/setSupportDetails",changePassword:"/api/v1/admin/changePassword",updateSchedule:"/api/v1/admin/updateSchedule/",deleteSchedule:"/api/v1/admin/deleteSchedule/"};var j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r))))._handleLogout=function(){return O(S.logout).then(function(e){return e.json()}).then(function(e){return console.log("logout success")})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.icon,o=t.path;return r.a.createElement(y.a,{className:"topbar__link",onClick:function(){return e._handleLogout()},to:o},r.a.createElement("span",{className:"topbar__link-icon lnr lnr-".concat(n)}),r.a.createElement("p",{className:"topbar__link-title"},a))}}]),t}(n.PureComponent),T="".concat("","/img/ava.png"),D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState(function(e){return{collapse:!e.collapse}})},e.state={collapse:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.collapse;return r.a.createElement("div",{className:"topbar__profile"},r.a.createElement("button",{type:"button",className:"topbar__avatar",onClick:this.toggle},r.a.createElement("img",{className:"topbar__avatar-img",src:T,alt:"avatar"}),r.a.createElement(v.a,{className:"topbar__icon"})),e&&r.a.createElement("button",{type:"button",className:"topbar__back",onClick:this.toggle}),r.a.createElement(_.a,{isOpen:e,className:"topbar__menu-wrap"},r.a.createElement("div",{className:"topbar__menu"},r.a.createElement(j,{title:"Log Out",icon:"exit",path:"/"}))))}}]),t}(n.PureComponent),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return r.a.createElement("div",{className:"topbar"},r.a.createElement("div",{className:"topbar__wrapper"},r.a.createElement("div",{className:"topbar__left"},r.a.createElement(E,{changeMobileSidebarVisibility:t,changeSidebarVisibility:a}),r.a.createElement("h4",{style:{alignSelf:"center"}},"Popular Doctor")),r.a.createElement("div",{className:"topbar__right"},r.a.createElement(D,null))))}}]),t}(n.PureComponent),w=a(267),P=a.n(w),L=a(617),I=a(616),x=function(e){var t=e.title,a=e.icon,n=e.newLink,o=e.route,l=e.onClick;return r.a.createElement(I.a,{to:o,onClick:l,activeClassName:"sidebar__link-active"},r.a.createElement("li",{className:"sidebar__link"},a?r.a.createElement("span",{className:"sidebar__link-icon lnr lnr-".concat(a)}):"",r.a.createElement("p",{className:"sidebar__link-title"},t,n?r.a.createElement(L.a,{className:"sidebar__link-badge"},r.a.createElement("span",null,"New")):"")))};x.defaultProps={icon:"",newLink:!1,route:"/",onClick:function(){}};var M=x,U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).toggle=function(){e.setState(function(e){return{collapse:!e.collapse}})},e.state={collapse:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.icon,n=e.isNew,o=e.children,l=this.state.collapse,i=f()({"sidebar__category-wrap":!0,"sidebar__category-wrap--open":l});return r.a.createElement("div",{className:i},r.a.createElement("button",{type:"button",className:"sidebar__link sidebar__category",onClick:this.toggle},a?r.a.createElement("span",{className:"sidebar__link-icon lnr lnr-".concat(a)}):"",r.a.createElement("p",{className:"sidebar__link-title"},t,n&&r.a.createElement("span",{className:"sidebar__category-new"})),r.a.createElement("span",{className:"sidebar__category-icon lnr lnr-chevron-right"})),r.a.createElement(_.a,{isOpen:l,className:"sidebar__submenu-wrap"},r.a.createElement("ul",{className:"sidebar__submenu"},r.a.createElement("div",null,o))))}}]),t}(n.Component);U.defaultProps={icon:"",isNew:!1};var F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).hideSidebar=function(){(0,a.props.onClick)()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar__content"},r.a.createElement("ul",{className:"sidebar__block"},r.a.createElement(U,{title:"Users",icon:"users"},r.a.createElement(M,{title:"View Users",route:"/pages/userManagement/viewUsers",onClick:this.hideSidebar})),r.a.createElement(U,{title:"Doctors",icon:"heart-pulse"},r.a.createElement(M,{title:"Create Doctor",route:"/pages/doctorManagement/createDoctor",onClick:this.hideSidebar}),r.a.createElement(M,{title:"View Doctors",route:"/pages/doctorManagement/viewDoctors",onClick:this.hideSidebar})),r.a.createElement(U,{title:"Hospitals",icon:"apartment"},r.a.createElement(M,{title:"Create Hospital",route:"/pages/hospitalManagement/createHospital",onClick:this.hideSidebar}),r.a.createElement(M,{title:"View Hospitals",route:"/pages/hospitalManagement/viewHospitals",onClick:this.hideSidebar})),r.a.createElement(U,{title:"Schedules",icon:"clock"},r.a.createElement(M,{title:"Create Schedule",route:"/pages/scheduleManagement/createSchedule",onClick:this.hideSidebar}),r.a.createElement(M,{title:"View Schedules",route:"/pages/scheduleManagement/viewSchedules",onClick:this.hideSidebar})),r.a.createElement(U,{title:"Front-Desk Users",icon:"screen"},r.a.createElement(M,{title:"Create User",route:"/pages/frontdeskUsers/createFrontdeskUser",onClick:this.hideSidebar}),r.a.createElement(M,{title:"View Users",route:"/pages/frontdeskUsers/viewFrontdeskUsers",onClick:this.hideSidebar})),r.a.createElement(M,{title:"Announcement",route:"/pages/announcement",onClick:this.hideSidebar,icon:"bullhorn"}),r.a.createElement(M,{title:"Bookings",route:"/pages/bookings/viewBookings",onClick:this.hideSidebar,icon:"tag"}),r.a.createElement(M,{title:"Customer Care",route:"/pages/customerCare",onClick:this.hideSidebar,icon:"phone-handset"}),r.a.createElement("div",{style:{position:"absolute",bottom:8}},r.a.createElement(M,{title:"Settings",route:"/pages/settings",onClick:this.hideSidebar,icon:"cog"}))))}}]),t}(n.Component),A=a(1),H=a.n(A),R=H.a.string,B=H.a.shape,z=(B({show:H.a.bool,collapse:H.a.bool}),B({className:R}),function(e){var t=e.changeToDark,a=e.changeToLight,n=e.changeMobileSidebarVisibility,o=e.sidebar,l=f()({sidebar:!0,"sidebar--show":o.show,"sidebar--collapse":o.collapse});return r.a.createElement("div",{className:l},r.a.createElement("button",{type:"button",className:"sidebar__back",onClick:n}),r.a.createElement(P.a,{className:"sidebar__scroll scroll"},r.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--desktop"},r.a.createElement(F,{onClick:function(){},changeToDark:t,changeToLight:a})),r.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--mobile"},r.a.createElement(F,{onClick:n,changeToDark:t,changeToLight:a}))))}),V=a(84),Y=a(85),q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).changeSidebarVisibility=function(){(0,a.props.dispatch)(Object(Y.d)())},a.changeMobileSidebarVisibility=function(){(0,a.props.dispatch)(Object(Y.c)())},a.changeToDark=function(){(0,a.props.dispatch)(Object(V.c)())},a.changeToLight=function(){(0,a.props.dispatch)(Object(V.d)())},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.sidebar,t=f()({layout:!0,"layout--collapse":e.collapse});return r.a.createElement("div",{className:t},r.a.createElement(C,{changeMobileSidebarVisibility:this.changeMobileSidebarVisibility,changeSidebarVisibility:this.changeSidebarVisibility}),r.a.createElement(z,{sidebar:e,changeToDark:this.changeToDark,changeToLight:this.changeToLight,changeMobileSidebarVisibility:this.changeMobileSidebarVisibility}))}}]),t}(n.Component),W=Object(d.a)(Object(p.b)(function(e){return{sidebar:e.sidebar}})(q)),G=a(180),J=Object(G.createMuiTheme)({palette:{primary:{light:"#fff",main:"rgb(23, 105, 170)",dark:"#000"},secondary:{main:"#f44336"}},typography:{useNextVariants:!0}}),K=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.children;return r.a.createElement("div",{className:t.className},r.a.createElement(G.MuiThemeProvider,{theme:J},r.a.createElement("div",{className:"wrapper"},a)))}}]),t}(n.PureComponent),Z=Object(p.b)(function(e){return{theme:e.theme}})(K),$=a(618),Q=a(626),X=a(625),ee=a(79),te=a.n(ee),ae=a(273),ne=a.n(ae),re=a(274),oe=a.n(re),le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).showPassword=function(t){t.preventDefault(),e.setState(function(e){return{showPassword:!e.showPassword}})},e._handleSubmit=function(t){var a,n=t.username,r=t.password;(a={username:n,password:r},N(S.login,a)).then(function(e){return e.json()}).then(function(t){alert(t),e.context.router.history.push("/pages/userManagement/viewUsers")})},e.state={showPassword:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;O(S.loginStatus).then(function(e){return e.json()}).then(function(t){"SUCCESS"===t.status?e.context.router.history.push("/pages/userManagement/viewUsers"):e.context.router.history.push("/")})}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit,a=this.state.showPassword;return r.a.createElement("form",{className:"form",onSubmit:t(this._handleSubmit)},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Username"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-icon"},r.a.createElement(oe.a,null)),r.a.createElement(Q.a,{name:"username",component:"input",type:"text",placeholder:"Name"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Password"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-icon"},r.a.createElement(ne.a,null)),r.a.createElement(Q.a,{name:"password",component:"input",type:a?"text":"password",placeholder:"Password"}),r.a.createElement("button",{className:"form__form-group-button".concat(a?" active":""),onClick:function(t){return e.showPassword(t)},type:"button"},r.a.createElement(te.a,null))),r.a.createElement("div",{className:"account__forgot-password"},r.a.createElement("a",{href:"/"},"Forgot a password?"))),r.a.createElement("div",{className:"form__form-group"}),r.a.createElement($.a,{type:"submit",className:"btn btn-primary account__btn account__btn--small"},"Sign In"))}}]),t}(n.PureComponent);le.contextTypes={router:H.a.func.isRequired};var ie=Object(X.a)({form:"log_in_form"})(le),se=function(){return r.a.createElement("div",{className:"account"},r.a.createElement("div",{className:"account__wrapper"},r.a.createElement("div",{className:"account__card"},r.a.createElement(ie,{onSubmit:!0}))))},ce=a(622),me=a(623),ue=a(619),de=a(21),pe=a(620),he=a(621),fe=a(271),be=a(299),Ee=a(277),ge=a.n(Ee),ve=a(278),_e=a.n(ve),ye=a(68),Ne=a.n(ye),ke=a(280),Oe=a.n(ke),Se=a(103),je=a.n(Se),Te=a(279),De=a.n(Te),Ce=a(130),we=a.n(Ce),Pe=a(275),Le=a.n(Pe),Ie=a(276),xe=a.n(Ie),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){(0,a.props.onRequestSort)(t,e)}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,o=t.orderBy,l=t.numSelected,i=t.rowCount,s=t.columns,c=t.showCheckbox;return r.a.createElement(Le.a,null,r.a.createElement(je.a,null,c&&r.a.createElement(Ne.a,{padding:"checkbox"},r.a.createElement(we.a,{className:"material-table__checkbox ".concat(l===i&&"material-table__checkbox--checked"),indeterminate:l>0&&l<i,checked:l===i,onChange:a})),s.map(function(t){return r.a.createElement(Ne.a,{className:"material-table__cell material-table__cell--sort",key:t.id,align:t.numeric?"rigth":"left",padding:"default",sortDirection:o===t.id&&n},r.a.createElement(xe.a,{active:o===t.id,direction:n,onClick:e.createSortHandler(t.id),className:"material-table__sort-label"},r.a.createElement("div",{style:{whiteSpace:"nowrap"}},t.label)))},this)))}}]),t}(n.PureComponent),Ue=a(29);var Fe={tableBody:{overflow:"scroll",height:"100%"}},Ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"_id",selected:[],page:0,rowsPerPage:5},a.handleRequestSort=function(e,t){var n=t,r="desc",o=a.state,l=o.orderBy,i=o.order;l===t&&"desc"===i&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAllClick=function(e,t){t?a.setState(function(e){return{selected:e.data.map(function(e){return e.id})}}):a.setState({selected:[]})},a.handleClick=function(e,t){var n=a.state.selected,r=n.indexOf(t),o=[];-1===r?o=o.concat(n,t):0===r?o=o.concat(n.slice(1)):r===n.length-1?o=o.concat(n.slice(0,-1)):r>0&&(o=o.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:o})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleDeleteSelected=function(){for(var e=a.state.data,t=Object(be.a)(e),n=a.state.selected,r=function(e){t=t.filter(function(t){return t.id!==n[e]})},o=0;o<n.length;o+=1)r(o);a.setState({data:t,selected:[]})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.order,n=t.orderBy,o=t.selected,l=t.rowsPerPage,i=t.page,s=this.props,c=s.columns,m=s.showCheckbox,u=s.data,d=[];return u&&0!==u.length&&(d=function(e,t,a){return"desc"===t?Ue.sortBy(e,a):Ue.chain(e).sortBy("user.age").reverse().value()}(u,a,n).slice(i*l,i*l+l)),r.a.createElement("div",{className:"material-table__wrap"},r.a.createElement(ge.a,{className:"material-table"},r.a.createElement(Me,{numSelected:o.length,order:a,columns:this.props.columns,orderBy:n,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:u.length}),r.a.createElement(_e.a,{classes:Fe.tableBody},d.map(function(t){var a=e.isSelected(t._id);return r.a.createElement(je.a,{className:"material-table__row",role:"checkbox",onClick:function(a){return e.handleClick(a,t._id)},"aria-checked":a,tabIndex:-1,key:t._id,selected:a},m&&r.a.createElement(Ne.a,{className:"material-table__cell",padding:"checkbox"},r.a.createElement(we.a,{checked:a,className:"material-table__checkbox"})),c.map(function(e){return r.a.createElement(Ne.a,{component:"th",scope:"row",padding:"default"},e.render?e.render(t):t[e.id])}))})),r.a.createElement(De.a,null,r.a.createElement(je.a,null,r.a.createElement(Oe.a,{component:"div",className:"material-table__pagination",count:u.length,rowsPerPage:l,page:i,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,rowsPerPageOptions:[100,75,50,25,5]})))))}}]),t}(n.PureComponent),He=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ae,this.props)}}]),t}(r.a.Component);var Re=a(132),Be=a.n(Re),ze=a(131),Ve=a.n(ze),Ye=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r))))._handleToggle=function(e){var t=a.props.id;return"ACTIVE"===e?a.props.blockUser({userId:t}).then(function(){a.props.loadData()}):a.props.unblockUser({userId:t}).then(function(){a.props.loadData()})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.status,a="ACTIVE"===t?"block":"unblock",n="ACTIVE"===t;return r.a.createElement(Ve.a,{title:a},r.a.createElement(Be.a,{checked:n,onChange:function(){return e._handleToggle(t)},value:"checkedB",color:"primary"}))}}]),t}(r.a.Component);var qe=Object(p.b)(function(e){return{}},function(e){return{blockUser:function(e){return function(e){return N(S.blockUser,e)}(e)},unblockUser:function(e){return function(e){return N(S.unblockUser,e)}(e)}}})(Ye),We=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o))))._onLoad=function(){a.props.getUserList()},a._handleNotification=function(e){a.setState(Object(de.a)({},e))},a._renderToggle=function(e){return r.a.createElement(qe,{data:e,status:e.status,id:e._id,loadData:a._onLoad,afterToggle:function(e){return a._handleNotification(e)}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._onLoad()}},{key:"render",value:function(){var e=this,t=this.props.userDataList,a=[{id:"fullName",numeric:!1,disablePadding:!0,label:"Name"},{id:"username",numeric:!1,disablePadding:!0,label:"Contact"},{id:"gender",numeric:!1,disablePadding:!0,label:"Gender"},{id:"action",label:"Block/Unblock",render:function(t){return e._renderToggle(t)}}];return r.a.createElement(ue.a,{md:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement(He,{columns:a,data:t})))))}}]),t}(r.a.Component);We.contextTypes={router:H.a.object};var Ge=Object(p.b)(function(e){var t=e.user?e.user.customerList:[];return{userDataList:Ue.isEmpty(t)?[]:t.users,totalCount:Ue.isEmpty(t)?0:t.totalRecords}},function(e){return{getUserList:function(){var t;e((t="".concat(S.getCustomerList),function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_CUSTOMERLIST",data:t})})}))}}})(Object(fe.a)(We)),Je=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"View Users"))),r.a.createElement(me.a,null,r.a.createElement(Ge,null)))},Ke=a(624),Ze=a(301),$e=a(34),Qe=a(37),Xe=a.n(Qe);function et(){return function(e){return O(S.getSpecializations).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_SPECIALIZATIONLIST",data:t})})}}var tt=function(e){var t={};return e.username||(t.username="Username field shouldn\u2019t be empty"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email field shouldn\u2019t be empty",e.password?"dragon"!==e.password&&(t.password="The password is incorrect"):t.password="Password field shouldn\u2019t be empty",e.select||(t.select="Please select the option"),t},at="Please select the above value",nt={fullName:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},degree:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},mobile:{type:"number",emptyField:"Field cannot be empty",length:10,errorText:"Enter valid mobile number it should be 10 digit"},latitude:{type:"number",emptyField:"Field cannot be empty",length:10,errorText:"Enter valid mobile number it should be 10 digit"},longitude:{type:"number",emptyField:"Field cannot be empty",length:10,errorText:"Enter valid mobile number it should be 10 digit"},yearsOfExperience:{type:"number",emptyField:"Field cannot be empty",length:2,errorText:"Enter valid mobile number it should be 10 digit"},profileContent:{type:"text",emptyField:"Field cannot be empty",length:300,errorText:"Numbers and special characters are not allowed"}},rt=a(300),ot=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.onChange)(e)},a.setIdWithValue=function(e){return e.forEach(function(e){e.label="".concat(e.label," (").concat(e.value,") ")}),e},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.name,o=t.placeholder,l=t.options,i=[];return i=t.renderId?this.setIdWithValue(l):l,r.a.createElement(rt.a,{name:n,value:a,onChange:function(t){return e.handleChange(t)},options:i,clearable:!1,className:"react-select",placeholder:o,classNamePrefix:"react-select"})}}]),t}(n.PureComponent);ot.defaultProps={placeholder:"",options:[]};var lt=function(e){var t=e.input,a=e.meta,n=e.options,o=e.placeholder,l=e.width,i=e.renderId,s=e.filter,c=e.onChange;return s?r.a.createElement("div",{style:{width:l}},r.a.createElement(ot,Object.assign({},t,{options:n,placeholder:o,renderId:i,onChange:c}))):r.a.createElement("div",{className:"form__form-group-input-wrap"},r.a.createElement("div",{style:{width:l}},r.a.createElement(ot,Object.assign({},t,{options:n,placeholder:o,renderId:i}))),a.touched&&a.error&&r.a.createElement("span",{style:{width:l},className:"form__form-group-error"},a.error))};lt.defaultProps={meta:null,options:[],placeholder:""};var it=lt,st=(a(262),a(133)),ct=a.n(st),mt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onChange;return r.a.createElement(ct.a,{value:t,placeholder:"Date of Birth",dateFormat:"Y-m-d",onChange:function(e){a(e)}})}}]),t}(n.PureComponent),ut=function(e){var t=e.input,a=e.meta,n=e.width;return r.a.createElement("div",null,r.a.createElement(mt,Object.assign({},t,{width:n})),a.touched&&a.error&&r.a.createElement("span",{className:"form__form-group-error"},a.error))},dt=a(31),pt=a.n(dt),ht=a(100),ft=a(298),bt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={},e.onDrop=e.onDrop.bind(Object(ht.a)(Object(ht.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){(0,this.props.onChange)(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))}},{key:"removeFile",value:function(e,t){var a=this.props,n=a.onChange,r=a.value;t.preventDefault(),n(r.filter(function(t,a){return a!==e}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=t.customHeight,o=t.name,l=a;return r.a.createElement("div",{className:"dropzone dropzone--single".concat(n?" dropzone--custom-height":"")},r.a.createElement(ft.a,{accept:"image/jpeg, image/png",name:o,multiple:!1,onDrop:function(t){e.onDrop(t)}},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{className:"dropzone__input"}),(!l||0===l.length)&&r.a.createElement("div",{className:"dropzone__drop-here"},r.a.createElement("span",{className:"lnr lnr-upload"})," Drop file here to upload"),r.a.createElement("input",a()))}),l&&Array.isArray(l)&&l.length>0&&r.a.createElement("aside",{className:"dropzone__img"},r.a.createElement("img",{src:l[0].preview,alt:"drop-img"}),r.a.createElement("p",{className:"dropzone__img-name"},l[0].name),r.a.createElement("button",{className:"dropzone__img-delete",type:"button",onClick:function(t){return e.removeFile(0,t)}},"Remove")))}}]),t}(n.PureComponent);bt.defaultProps={customHeight:!1};var Et=function(e){var t=e.input,a=e.customHeight;return r.a.createElement(bt,Object.assign({},t,{customHeight:a}))};Et.defaultProps={customHeight:!1};var gt=Et,vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleSubmit=function(e){var t=e.profileImage;if(!Ue.isEmpty(t)){var n=new FormData;n.append("profileImage",t[0],a.state.doctorPdNumber+".png"),fetch(S.uploadProfileImage+"/"+a.state.doctorPdNumber,{method:"POST",body:n}).then(function(e){return e.json()}).then(function(e){a.props.reset(),a.props.onUploadComplete(e.status)}).catch(function(e){return console.log(e)})}},a.state={doctorPdNumber:null},a.form=null,a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"upload",value:function(e){var t=this;console.log("upload called"),this.setState({doctorPdNumber:e},function(){return pt.a.findDOMNode(t.form).dispatchEvent(new Event("submit"))})}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return r.a.createElement(pe.a,{style:{height:150}},r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"subhead"},"Profile Image")),r.a.createElement("form",{ref:function(t){return e.form=t},className:"form",onSubmit:t(this._handleSubmit)},r.a.createElement(Q.a,{name:"profileImage",component:gt}))))}}]),t}(n.PureComponent),_t=Object(X.a)({form:"doctorPofileImageUpload"})(Object($e.a)("common")(vt)),yt=function(e){var t=e.input,a=e.placeholder,n=e.type,o=e.disabled,l=e.meta,i=l.touched,s=l.error;return r.a.createElement("div",{className:"form__form-group-input-wrap "},r.a.createElement("input",Object.assign({},t,{placeholder:a,type:n,disabled:o})),i&&s&&r.a.createElement("span",{className:"form__form-group-error"},s))};yt.defaultProps={placeholder:"",meta:null,type:"text"};var Nt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this)))._handleChange=function(t,a){var n=e.state.saveData;n[t]=a.target.value,e.setState({saveData:n})},e._handleSubmit=function(t){var a,n=t.fullName,r=void 0===n?"":n,o=t.mobile,l=void 0===o?"":o,i=t.yearsOfExperience,s=void 0===i?0:i,c=t.degree,m=void 0===c?"":c,u=t.dateOfBirth,d=void 0===u?"":u,p=t.specialization,h=void 0===p?"":p,f=t.gender,b=void 0===f?"":f,E=t.profileContent,g=void 0===E?"":E,v={fullName:r,mobile:l,yearsOfExperience:s,degree:m,dateOfBirth:Ue.isEmpty(d)?"":d,specialization:h.label,gender:b.label,profileContent:g},_={};if(v.password=v.mobile,v.profileImage=e.props.initialValues.profileImage,Object.keys(v).forEach(function(t){return e.validateTextData(v[t],t,v,_)}),e.validateOtherFields(v,_),e._mobileNumberValidate(v.mobile,_),e.setState({errorText:_}),0!==Object.keys(_).filter(function(e){return!!_[e]}).length)throw new Ze.a(_);if(e.setState({active:!0}),e.props.isUpdate){var y=e.props.initialValues.doctorId,O=e.props.initialValues.doctorPdNumber;(function(e,t){return k("".concat(S.updateDoctor,"/").concat(t),e)})(v,y).then(function(e){return e.json()}).then(function(t){t.status?(e.setState({toastMessage:t.message}),e.props.getDoctorDetail(O)):e.setState({displayToast:!0,toastMessage:t.message})})}else(a=v,N(S.createDoctor,a)).then(function(e){return e.json()}).then(function(t){t.status?e.setState({toastMessage:t.message,disableButtonActions:!0},function(){return e.profileImageUploader.upload(t.doctorPdNumber)}):e.setState({displayToast:!0,toastMessage:t.message})})},e.validateTextData=function(e,t,a,n){switch(nt[t]?nt[t].type:"other"){case"number":if(Ue.isEmpty(e.toString()))return a[t]=e,void(n[t]=nt[t].emptyField);n[t]=null,a[t]=e;break;case"text":if(Ue.isEmpty(e))return a[t]=e,void(n[t]=nt[t].emptyField);e.length<=nt[t].length&&(n[t]=null,a[t]=e)}},e.validateOtherFields=function(e,t){!e.dateOfBirth&&Ue.isEmpty(e.dateOfBirth)&&(t.dateOfBirth=at),Ue.isEmpty(e.gender)&&(t.gender=at),Ue.isEmpty(e.specialization)&&(t.specialization=at)},e._mobileNumberValidate=function(e,t){e&&0!==e.length&&10!==e.length&&(t.mobile=nt.mobile.errorText)},e._parseList=function(e){return e?e.map(function(e){return{value:e.name,label:e.name}}):[]},e.handleDOBChange=function(t){e.setState({dateOfBirth:t})},e._handleClose=function(){e.setState({displayToast:!1})},e.state={showPassword:!1,displayToast:!1,dateOfBirth:"",toastMessage:"",errorText:{},doProfileImageUpload:!1,doctorPdNumber:null,disableButtonActions:!1,showProfileImageUploader:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;if(e.includes("edit")){var t=e.split("/")[e.split("/").length-1];this.props.getDoctorDetail(t)}else this.props.clearDoctorDetail();this.props.getSpecialization(),Ue.isEmpty(this.props.initialValues.profileImage)&&this.setState({showProfileImageUploader:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.pristine,n=t.reset,o=t.submitting,l=t.handleSubmit,i=t.isUpdate,s=this._parseList(this.props.specializations),c=i?"Edit Doctor":"Create Doctor";return r.a.createElement(ce.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},c))),r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:6,sm:12},r.a.createElement("form",{className:"form form--horizontal",onSubmit:l(this._handleSubmit)},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Full Name"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"fullName",component:yt,type:"text",placeholder:"Full Name"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Mobile"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"mobile",component:yt,type:"number",placeholder:"Mobile",disabled:this.props.isUpdate}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Date of Birth"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"dateOfBirth",component:ut,placeholder:"Date of Birth",onChange:this.handleDOBChange}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Gender"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"gender",component:it,type:"text",placeholder:"Gender",width:150,options:[{value:"male",label:"MALE"},{value:"female",label:"FEMALE"}]}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Specialization"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"specialization",component:it,type:"text",placeholder:"Specialization",width:200,options:s}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Degree"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"degree",component:yt,type:"text",placeholder:"Degree"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Years Of Experience"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"yearsOfExperience",component:yt,type:"number",placeholder:"Years Of Experience"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Description"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"profileContent",component:"textarea",placeholder:"Description"}))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary",type:"submit",disabled:a||o||this.state.disableButtonActions},"Save"),r.a.createElement($.a,{type:"button",onClick:n,disabled:a||o||this.state.disableButtonActions},"Cancel"))))),r.a.createElement(ue.a,{md:6,sm:12},r.a.createElement(me.a,{style:{flexDirection:"row",justifyContent:"flex-start",paddingLeft:"5%"}},!Ue.isEmpty(this.props.initialValues.profileImage)&&!this.state.showProfileImageUploader&&r.a.createElement("div",null,r.a.createElement(me.a,null,r.a.createElement("img",{src:this.props.initialValues.profileImage,style:{height:"40%",width:"40%",resizeMode:"contain"}})),r.a.createElement(me.a,null,r.a.createElement($.a,{onClick:function(){fetch(S.deleteProfileImage+e.props.initialValues.doctorPdNumber,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){alert(e)})},color:"danger",type:"button",style:{marginTop:"2%"}},"Delete")))),this.state.showProfileImageUploader&&r.a.createElement("div",null,r.a.createElement(me.a,null,r.a.createElement($.a,{onClick:function(){return e.profileImageUploader.upload(e.props.initialValues.doctorPdNumber)},color:"primary",type:"button"},"Change")),r.a.createElement(me.a,null,r.a.createElement(_t,{onRef:function(t){return e.profileImageUploader=t},onUploadComplete:function(t){return e.setState({displayToast:!0,toastMessage:"Profile image updated successfully.",disableButtonActions:!1},function(){return e.props.reset()})}})))))),r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:this._handleClose,message:r.a.createElement("span",{id:"message-id"},this.state.toastMessage)})))}}]),t}(n.PureComponent);Nt.contextTypes={router:H.a.object},Nt=Object(X.a)({form:"doctor",enableReinitialize:!0,destroyOnUnmount:!0,validate:tt})(Object($e.a)("common")(Nt));var kt=Object(p.b)(function(e){var t=e.doctor,a=Ue.isEmpty(t)||Ue.isEmpty(t.doctorDetail)?{}:t.doctorDetail;return{specializations:Ue.isEmpty(t)?[]:t.specialization,initialValues:Object(de.a)({},a),isUpdate:!Ue.isEmpty(a)}},function(e){return{getSpecialization:function(){e(et())},getDoctorDetail:function(t){e(function(e){var t="".concat(S.getDoctorDetail).concat(e);return function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_DOCTORDETAIL",data:t})})}}(t))},clearDoctorDetail:function(){e({type:"RESPONSE_DOCTORDETAIL",data:[]})}}})(Object(fe.a)(Nt)),Ot=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(kt,null)))},St=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(kt,null)))},jt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o))))._onLoad=function(){a.props.getDoctorList()},a.renderDoctorNameCell=function(e){return r.a.createElement("div",{style:{display:"flex",width:200}},r.a.createElement("strong",null,e.doctorDetails.fullName))},a._handleEditHospital=function(e){a.context.router.history.push("/pages/doctorManagement/editDoctor/".concat(e.doctorPdNumber))},a._renderToggle=function(e){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement($.a,{className:"icon",id:"TooltipBottom",color:"primary",onClick:function(){return a._handleEditHospital(e)}},r.a.createElement("span",{class:"lnr lnr-pencil"})),r.a.createElement(qe,{data:e,status:e.doctorDetails.status,id:e.userId,loadData:a._onLoad}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this._onLoad(),this.props.getSpecialization()}},{key:"render",value:function(){var e=this,t=this.props.doctorList,a=[{id:"name",numeric:!1,disablePadding:!0,label:"Name",render:function(t){return e.renderDoctorNameCell(t)}},{id:"doctorPdNumber",numeric:!1,disablePadding:!0,label:"Doctor Id",render:function(e){return e.doctorPdNumber}},{id:"specialization",numeric:!1,disablePadding:!0,label:"Specialization"},{id:"phone",numeric:!1,disablePadding:!0,label:"Contact",render:function(e){return e.doctorDetails.username}},{id:"degree",numeric:!1,disablePadding:!0,label:"Education",render:function(e){return e.degree}},{id:"action",label:"Operation",render:function(t){return e._renderToggle(t)}}];return r.a.createElement(ue.a,{md:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement(He,{columns:a,data:t})))))}}]),t}(r.a.Component);jt.contextTypes={router:H.a.object};var Tt=Object(p.b)(function(e){var t=e.doctor;return{specializations:Ue.isEmpty(t)?[]:t.specialization,doctorList:Ue.isEmpty(t)||Ue.isEmpty(t.doctorList)?[]:t.doctorList.doctors,totalCount:Ue.isEmpty(t)||Ue.isEmpty(t.doctorList)?0:t.doctorList.totalRecords}},function(e){return{getSpecialization:function(){e(et())},getDoctorList:function(){var t;e((t="".concat(S.doctorList),function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_DOCTORLIST",data:t})})}))}}})(Object(fe.a)(jt)),Dt=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Doctor Management"))),r.a.createElement(me.a,null,r.a.createElement(Tt,null)))},Ct=a(287),wt=a.n(Ct);var Pt={name:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},location:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},streetName:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},building:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},address:{type:"text",emptyField:"Field cannot be empty",length:240,errorText:"Numbers and special characters are not allowed"},landmark:{type:"text",emptyField:"Field cannot be empty",length:40,errorText:"Numbers and special characters are not allowed"},pincode:{type:"number",emptyField:"Field cannot be empty",length:6,errorText:"Enter valid mobile number it should be 6 digit"}},Lt=function(e){var t=e.input,a=e.placeholder,n=e.type,o=e.meta,l=o.touched,i=o.error;return r.a.createElement("div",{className:"form__form-group-input-wrap form__form-group-input-wrap--error-above"},r.a.createElement("input",Object.assign({},t,{placeholder:a,type:n})),l&&i&&r.a.createElement("span",{className:"form__form-group-error"},i))};Lt.defaultProps={placeholder:"",meta:null,type:"text"};var It=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this)))._handleChange=function(t,a){var n=e.state.saveData;n[t]=a.target.value,e.setState({saveData:n})},e._handleSubmit=function(t){var a=t.name,n=void 0===a?"":a,r=t.streetName,o=void 0===r?"":r,l=t.building,i=void 0===l?"":l,s=t.location,c=void 0===s?"":s,m=t.landmark,u=void 0===m?"":m,d=t.pincode,p=void 0===d?0:d,h=t.latitude,f=void 0===h?0:h,b=t.longitude,E=void 0===b?0:b,g={name:n,streetName:o,building:i,location:c,landmark:u,pincode:p,latitude:f,longitude:E},v={};if(Object.keys(g).forEach(function(t){return e.validateTextData(g[t],t,g,v)}),e._validatePincode(g.pincode,v),0!==Object.keys(v).filter(function(e){return!!v[e]}).length)throw new Ze.a(v);var _={name:g.name,address:JSON.stringify({streetName:g.streetName,building:g.building}),location:g.location,landmark:g.landmark,pincode:g.pincode,latLng:[f,E]};if(e.props.isUpdate){var y=e.props.initialValues._id,O=e.props.initialValues.hospitalPdNumber;(function(e,t){return k("".concat(S.updateHospital,"/").concat(t),e)})(_,y).then(function(e){return e.json()}).then(function(t){e.setState({displayToast:!0,toastMessage:t.message},function(){t.status&&e.props.getHospitalDetail(O)})})}else(function(e){return N(S.createHospital,e)})(_).then(function(e){return e.json()}).then(function(t){e.setState({displayToast:!0,toastMessage:t.message},function(){t.status&&e.props.reset()})})},e.validateTextData=function(e,t,a,n){if("other"!==(Pt[t]?Pt[t].type:"other")){if(Ue.isEmpty(e))return a[t]=e,void(n[t]=Pt[t].emptyField);e.length<=Pt[t].length&&(n[t]=null,a[t]=e)}},e._validatePincode=function(e,t){e&&0!==e.length&&e.length!==Pt.pincode.length&&(t.pincode=Pt.pincode.errorText)},e._handleClose=function(){e.setState({displayToast:!1})},e.state={showPassword:!1,saveData:{name:"",address:"",location:"",pincode:"",landmark:""},hospitalId:"",displayToast:!1,toastMessage:"",errorText:{}},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;if(e.includes("edit")){var t=e.split("/")[e.split("/").length-1];this.props.getHospitalDetail(t)}else this.props.clearHospitalDetail()}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.location,r=e.initialValues;n.pathname.includes("edit")||Ue.isEmpty(r)||this.props.clearHospitalDetail()}},{key:"render",value:function(){var e=this,t=this.props,a=t.reset,n=t.handleSubmit;return r.a.createElement(ce.a,null,r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("form",{className:"form form--horizontal",onSubmit:n(this._handleSubmit)},r.a.createElement(ue.a,null,r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Hospital Name"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"name",component:Lt,type:"text",placeholder:"Hospital Name"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Street name"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"streetName",component:Lt,type:"text",placeholder:"Street name"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Building"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"building",component:Lt,type:"text",placeholder:"Building"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Location"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"location",component:Lt,type:"text",placeholder:"Location"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Latitude"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"latitude",component:Lt,type:"number",placeholder:"latitude"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Longitude"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"longitude",component:Lt,type:"number",placeholder:"Longitude"}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Pincode"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"pincode",component:Lt,type:"number",placeholder:"Pincode",onChange:function(t){return e._handleChange("pincode",t)}}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Landmark"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"landmark",component:Lt,type:"text",placeholder:"Landmark"})))),r.a.createElement(ue.a,null,r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{className:"icon",size:"sm",color:"primary",type:"submit"},r.a.createElement(wt.a,null),"Save"),r.a.createElement($.a,{type:"button",size:"sm",onClick:a},"Cancel")))))),r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:this._handleClose,message:r.a.createElement("span",{id:"message-id"},this.state.toastMessage)}))}}]),t}(n.PureComponent);It=Object(X.a)({form:"hospital",enableReinitialize:!0,validate:tt})(Object($e.a)("common")(It));var xt=Object(p.b)(function(e){var t=e.hospital,a=!1,n=Ue.isEmpty(t)||Ue.isEmpty(t.hospitalDetail)?{}:t.hospitalDetail;if(!Ue.isEmpty(n)){a=!0;var r=JSON.parse(n.address);n.latitude=n.latLng[0],n.longitude=n.latLng[1],n.streetName=r.streetName,n.building=r.building}return{initialValues:Object(de.a)({},n),isUpdate:a}},function(e){return{getHospitalDetail:function(t){e(function(e){var t="".concat(S.getHospitalDetail).concat(e);return function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_HOSPITALDETAIL",data:t})})}}(t))},clearHospitalDetail:function(){e({type:"RESPONSE_HOSPITALDETAIL",data:[]})}}})(Object(fe.a)(It)),Mt=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Create Hospital")),r.a.createElement(xt,null)))},Ut=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(xt,null)))},Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o))))._handleEditHospital=function(e){a.context.router.history.push("/pages/hospitalManagement/editHospital/".concat(e.hospitalPdNumber))},a._renderOperation=function(e){return r.a.createElement($.a,{className:"icon",color:"primary",onClick:function(){return a._handleEditHospital(e)}},r.a.createElement("span",{class:"lnr lnr-pencil"}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.getHospitalList("all")}},{key:"render",value:function(){var e=this,t=this.props.hospitalList,a=[{id:"hospitalPdNumber",numeric:!1,disablePadding:!0,label:"Hospital Id",render:function(e){return e.hospitalPdNumber}},{id:"name",numeric:!1,disablePadding:!0,label:"Hospital Name"},{id:"location",numeric:!1,disablePadding:!0,label:"Location"},{id:"pincode",label:"Pincode",numeric:!1,disablePadding:!0},{id:"landmark",label:"Landmark",numeric:!1,disablePadding:!0},{label:"Action",render:function(t){return e._renderOperation(t)}}];return r.a.createElement(ue.a,{md:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement(He,{columns:a,data:t})))))}}]),t}(r.a.Component);Ft.contextTypes={router:H.a.object};var At=Object(p.b)(function(e){var t=e.hospital;return{hospitalList:Ue.isEmpty(t)||Ue.isEmpty(t.hospitalList)?[]:t.hospitalList.hospitals,totalCount:Ue.isEmpty(t)||Ue.isEmpty(t.hospitalList)?0:t.hospitalList.totalRecords}},function(e){return{getHospitalList:function(t){e(function(e){var t="".concat(S.getHospitalList).concat(e);return function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_HOSPITALLIST",data:t})})}}(t))}}})(Object(fe.a)(Ft)),Ht=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"View Hospitals"))),r.a.createElement(me.a,null,r.a.createElement(At,null)))},Rt="Atleast add one token for the schedule",Bt={hospital:{type:"select",emptyField:"Field cannot be empty",errorText:"Numbers and special characters are not allowed"},doctor:{type:"select",emptyField:"Field cannot be empty",errorText:"Numbers and special characters are not allowed"},weekday:{type:"text",emptyField:"Field cannot be empty"},fromTime:{type:"date",dbKey:"startTime",emptyField:"Field cannot be empty",errorText:"Numbers and special characters are not allowed"},toTime:{type:"date",dbKey:"endTime",emptyField:"Field cannot be empty",errorText:"Numbers and special characters are not allowed"}};function zt(){return function(e){return O(S.getDoctorMasterList).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_DOCTOR_MASTERLIST",data:t})})}}function Vt(){return function(e){return O(S.getHospitalMasterList).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_HOSPITAL_MASTERLIST",data:t})})}}function Yt(e){var t="".concat(S.getScheduleList).concat(e);return function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_SCHEDULE_LIST",data:t})})}}function qt(e){var t,a="".concat(S.deleteSchedule).concat(e);return fetch(a,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE",body:JSON.stringify(t)})}a(609);var Wt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.setOpen=function(e){var t=e.open;a.setState({open:t})},a.toggleOpen=function(e){e.preventDefault(),a.setState(function(e){return{open:!e.open}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onChange,n=e.placeholder,o=Ue.isEmpty(t)?{value:Ue.isEmpty(t)}:{};return r.a.createElement(ct.a,Object.assign({options:{enableTime:!0,noCalendar:!0,dateFormat:"H:i"},placeholder:n,onChange:function(e){a(e)}},o))}}]),t}(n.PureComponent),Gt=function(e){var t=e.input,a=e.meta,n=e.timeMode,o=e.width;return r.a.createElement("div",{className:"form__form-group-input-wrap"},r.a.createElement("div",{style:{width:o}},r.a.createElement(Wt,Object.assign({},t,{timeMode:n}))),a.touched&&a.error&&r.a.createElement("span",{className:"form__form-group-error",style:{width:o}},a.error))};Gt.defaultProps={timeMode:!1};var Jt=Gt,Kt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.onChange)(e.defaultChecked)}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.disabled,n=e.value,o=e.onChange;return r.a.createElement("div",{className:"toggle-btn"},r.a.createElement("input",{className:"toggle-btn__input",type:"checkbox",name:t,onChange:o,checked:n,disabled:a}),r.a.createElement("button",{type:"button",className:"toggle-btn__input-label",onClick:function(){return o(!n)}},"Toggle"))}}]),t}(n.PureComponent);Kt.defaultProps={defaultChecked:!1,disabled:!1};var Zt=function(e){var t=e.input,a=e.defaultChecked,n=e.disabled;return r.a.createElement(Kt,Object.assign({},t,{defaultChecked:a,disabled:n}))};Zt.defaultProps={defaultChecked:!1,disabled:!1};var $t=Zt,Qt=a(99),Xt=[{value:"Mon",label:"MON"},{value:"Tue",label:"TUE"},{value:"Wed",label:"WED"},{value:"Thu",label:"THU"},{value:"Fri",label:"FRI"},{value:"Sat",label:"SAT"},{value:"Sun",label:"SUN"}],ea=[{label:"PREMIUM",value:"PREMIUM"},{label:"REGULAR",value:"REGULAR"}],ta={number:0,type:"FASTTRACK",time:"Can visit on your arival"},aa={id:0,number:"",type:{},time:"",startTime:null,endTime:null,showSnackBar:!1,snackBarMessage:""},na=function(e){var t=e.input,a=e.placeholder,n=e.type,o=e.width,l=e.disabled,i=e.meta,s=i.touched,c=i.error;return r.a.createElement("div",{className:"form__form-group-input-wrap form__form-group-input-wrap--error-above"},r.a.createElement("div",{style:{width:o}},r.a.createElement("input",Object.assign({},t,{placeholder:a,type:n,disabled:l})),s&&c&&r.a.createElement("span",{className:"form__form-group-error"},c)))},ra=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._decodeTokenList=function(e){var t=!1,a=[];return e&&e.forEach(function(e,n){Ue.isEqual(e,ta)&&(t=!0),Ue.isEqual(e,ta)||a.push({id:n,number:e.number,type:e.type,startTime:e.time.split(" - ")[0],endTime:e.time.split(" - ")[1]})}),{isFastrack:t,dataList:a}},a._handleSubmit=function(e){var t=e.doctor,n=void 0===t?"":t,r=e.hospital,o=void 0===r?"":r,l=e.weekday,i=void 0===l?"":l,s=e.isFastrack,c=void 0!==s&&s,m=e.fromTime,u=void 0===m?"":m,d=e.toTime,p={doctor:n,hospital:o,weekday:i,fromTime:u,toTime:void 0===d?"":d};return a.props.isUpdate?a._updateSchedule():a._addSchedule(p,c)},a._updateSchedule=function(){var e=a.state,t=e.deleteTokens,n=e.tokenList,r=e.isFastrack,o={deleteTokens:t,addTokens:a._parseToken(n,!1)};a.props.initialValues.isFastrack!==r&&(r?o.addTokens.push(ta):t.push(0));var l=a.props.location.pathname,i=l.split("/")[l.split("/").length-1];Ue.isEmpty(o.addTokens)&&Ue.isEmpty(o.deleteTokens)||function(e,t){return k("".concat(S.updateSchedule).concat(t),e)}(o,i).then(function(e){return e.json()}).then(function(e){a.props.getScheduleDetail(i),a.setState({showSnackBar:!0,snackBarMessage:e.message})})},a._addSchedule=function(e,t){var n,r=a.state.tokenList,o={};if(Object.keys(e).forEach(function(t){return a._validateScheduleFields(t,e[t],o)}),a._validateTokens(a._parseToken(r,t),o),0!==Object.keys(o).filter(function(e){return!!o[e]}).length)throw Ue.isEmpty(o.tokens)?a.setState({errorToken:""}):a.setState({errorToken:o.tokens}),new Ze.a(o);e.tokens=a._parseToken(r,ta),e.startTime=Qt(e.fromTime[0]).format("hh:mm A"),e.endTime=Qt(e.toTime[0]).format("hh:mm A"),e.hospitalId=a.findIdInList(e.hospital.value,a.props.hospitalList,"hospitalId"),e.doctorId=a.findIdInList(e.doctor.value,a.props.doctorList,"doctorId"),e.weekday=e.weekday.value,a.setState({active:!0}),(n=e,N(S.createSchedule,n)).then(function(e){return e.json()}).then(function(e){a.setState({showSnackBar:!0,snackBarMessage:e.message})})},a.findIdInList=function(e,t,a){return t.filter(function(t){return t.pdNumber===e})[0][a]},a._parseList=function(e,t,a){return e?e.map(function(e){return{value:e[t],label:e.name,id:e[a]}}):[]},a._parseToken=function(e,t){var a=[];return e.forEach(function(e){if(!Ue.isEmpty(e.number)&&!Ue.isEmpty(e.type)&&!Ue.isEmpty(e.startTime)&&!Ue.isEmpty(e.endTime)){var t=Qt(e.startTime).format("hh:mm A"),n=Qt(e.endTime).format("hh:mm A"),r={number:parseInt(e.number),type:e.type,time:"".concat(t," - ").concat(n)};a.push(r)}}),t&&a.push({number:0,type:"FASTTRACK",time:"Can visit on your arival"}),a},a._validateScheduleFields=function(e,t,a){Ue.isEmpty(t)&&(a[e]=Bt[e].emptyField,"date"===Bt[e].type&&t&&(a[e]=""))},a._validateTokens=function(e,t){0===e.length&&(t.tokens=Rt)},a._handleAddToken=function(e){var t=a.state.tokenList;t.push({id:e,tokenNo:"",tokenType:"",tokenTime:"",startTime:null,endTime:null}),a.setState({tokenList:t})},a._handleDelete=function(){qt(a.props.initialValues.id).then(function(e){e&&a.context.router.history.push("/pages/scheduleManagement/viewSchedules")})},a._handleDeleteToken=function(e){var t=a.state.tokenList;if(1!==t.length){var n=t.filter(function(t){return!Ue.isEqual(t,e)});a.setState({tokenList:n})}},a._handleTokenChange=function(e,t,n){a.state.tokenList.forEach(function(a){a.id===e&&(a[t]=n)})},a._handleExistDeleteToken=function(e){var t=a.state,n=t.existTokens,r=t.deleteTokens;r.push(e.number);var o=n.filter(function(t){return!Ue.isEqual(e,t)});a.setState({deleteTokens:r,existTokens:o})},a._handleFastrack=function(e){a.setState({isFastrack:e})},a.renderTokenList=function(){var e=a.state,t=e.tokenList,n=e.existTokens;return console.log("tokenList"),console.log(t),console.log(n),r.a.createElement("div",null,n&&n.map(function(e){return 0!==e.number&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement("input",{width:100,value:e.type,type:"text",disabled:a.props.isUpdate})),r.a.createElement("div",{style:{width:100,padding:"0px 8px"}},r.a.createElement("input",{width:100,value:e.number,type:"text",disabled:a.props.isUpdate})),r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement("input",{width:100,value:e.startTime,type:"text",disabled:a.props.isUpdate})),r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement("input",{width:100,value:e.endTime,type:"text",disabled:a.props.isUpdate})),r.a.createElement($.a,{className:"icon btn-danger",onClick:function(){return a._handleExistDeleteToken(e)}},r.a.createElement("span",{class:"lnr lnr-trash text-white"}))))}),t&&t.map(function(e,n){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement(Q.a,{name:"type"+n,component:it,onChange:function(e){return a._handleTokenChange(n,"type",e.value)},type:"text",placeholder:"Type",width:100,options:ea})),r.a.createElement("div",{style:{width:100,padding:"0px 8px"}},r.a.createElement(Q.a,{name:"number"+n,component:na,onChange:function(e){return a._handleTokenChange(n,"number",e.target.value)},type:"number",value:e.number,placeholder:"Token No"})),r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement(Q.a,{name:"startTime",placeholder:"Start Time",component:Jt,value:e.startTime,onChange:function(e){a._handleTokenChange(n,"startTime",Qt(e[0]))},width:100,timeMode:!0})),r.a.createElement("div",{style:{width:120,padding:"0px 8px"}},r.a.createElement(Q.a,{name:"endTime",component:Jt,onChange:function(e){return a._handleTokenChange(n,"endTime",Qt(e[0]))},placeholder:"End time",width:100,timeMode:!0})),r.a.createElement($.a,{className:"icon btn-danger",onClick:function(){return a._handleDeleteToken(e)}},r.a.createElement("span",{class:"lnr lnr-trash text-white"})),t.length-1===n&&r.a.createElement($.a,{className:"icon btn-primary",outline:!0,onClick:function(){return a._handleAddToken(n+1)}},r.a.createElement("span",{class:"lnr lnr-plus-circle text-white"})))))}))},a.setEmptyData=function(e){var t=[],a={};return e.forEach(function(e){return a[e.id]=""}),t.push(a),t},a._handleSnackBarClose=function(){a.setState({showSnackBar:!1})},a.state={tokenList:[aa],isFastrack:!1,existTokens:[],updated:!1,deleteTokens:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;if(this.props.getDoctorList(),this.props.getHospitalList(),e.includes("edit")){var t=e.split("/")[e.split("/").length-1];this.props.getScheduleDetail(t)}else this.props.clearScheduleDetail()}},{key:"componentDidUpdate",value:function(e,t){if(e.isUpdate&&!t.updated){var a=this._decodeTokenList(this.props.initialValues.tokens),n=a.isFastrack,r=a.dataList;this._handleFastrack(n),this.setState({isFastrack:n,existTokens:r,updated:!0})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.pristine,n=t.reset,o=t.submitting,l=t.handleSubmit,i=t.isUpdate,s=this.state.errorToken,c=this._parseList(this.props.doctorList,"pdNumber","doctorId"),m=this._parseList(this.props.hospitalList,"pdNumber","hospitalid"),u=i?na:Jt,d=i?na:it,p=i?"Edit Schedule":"Create Schedule";return r.a.createElement(ce.a,null,r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},p))),r.a.createElement("form",{className:"form form--horizontal",onSubmit:l(this._handleSubmit)},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,!i&&r.a.createElement("div",{className:"form__form-group"},r.a.createElement("h5",{className:"bold-text"},"Add Schedule")),r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12,sm:12},r.a.createElement("div",{style:{float:"right"}},r.a.createElement(Ke.a,{className:"form__button-toolbar"},i&&r.a.createElement($.a,{className:"icon",onClick:function(){return e._handleDelete()}},r.a.createElement("span",{class:"lnr lnr-trash"})," Delete"),r.a.createElement($.a,{color:"primary",type:"submit",size:"sm"},"Save"),r.a.createElement($.a,{type:"button",size:"sm",onClick:n,disabled:a||o},"Clear"))))),r.a.createElement(me.a,null,r.a.createElement("div",null,r.a.createElement(ue.a,{md:6,sm:12},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Doctor"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"doctor",component:d,type:"text",placeholder:"Doctor",width:240,options:c,disabled:this.props.isUpdate,renderId:!0}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Hospital"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"hospital",component:d,type:"text",renderId:!0,disabled:this.props.isUpdate,placeholder:"Hospital",width:240,options:m}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Weekday"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"weekday",component:d,type:"text",disabled:this.props.isUpdate,placeholder:"Weekday",width:120,options:Xt}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Start time"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"fromTime",component:u,placeholder:"Start time",disabled:this.props.isUpdate,timeMode:!0,width:120}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"End time"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"toTime",component:u,disabled:this.props.isUpdate,placeholder:"End time",timeMode:!0,width:120})))))),r.a.createElement(me.a,null,r.a.createElement(ue.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"form__form-group"},r.a.createElement("h5",{className:"bold-text"},"Add Token"),s&&r.a.createElement("span",{className:"form__form-group-error"},s)),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Fastrack"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"isFastrack",component:$t,placeholder:"Fastrack",value:this.state.isFastrack,onChange:this._handleFastrack}))),this.renderTokenList())))),r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.showSnackBar,ContentProps:{"aria-describedby":"message-id"},onClose:this._handleSnackBarClose,message:r.a.createElement("span",{id:"message-id"},this.state.snackBarMessage)}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isUpdate&&Ue.isEmpty(t.existTokens)&&!t.updated?{existTokens:e.initialValues.tokens}:null}}]),t}(r.a.Component);ra.contextTypes={router:H.a.object},ra=Object(X.a)({form:"doctor",validate:tt,enableReinitialize:!0})(Object($e.a)("common")(ra));var oa=Object(p.b)(function(e){var t=e.schedule,a=Ue.isEmpty(t)||Ue.isEmpty(t.scheduleDetail)?{}:t.scheduleDetail;return{doctorList:t.doctorMasterList,hospitalList:t.hospitalMasterList,scheduleList:Ue.isEmpty(t)||Ue.isEmpty(t.scheduleList)?[]:t.scheduleList,initialValues:Object(de.a)({},a),isUpdate:!Ue.isEmpty(a)}},function(e){return{getDoctorList:function(){e(zt())},getHospitalList:function(){e(Vt())},getScheduleList:function(t){e(Yt(t))},getScheduleDetail:function(t){var a,n;e((a=t,n="".concat(S.getScheduleDetail).concat(a),function(e){return O(n).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_SCHEDULE_DETAIL",data:t})})}))},clearScheduleDetail:function(){e({type:"RESPONSE_SCHEDULE_DETAIL",data:[]})}}})(Object(fe.a)(ra)),la=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(oa,null)))},ia=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(oa,null)))},sa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o))))._renderToggle=function(e){var t="ACTIVE"!==e.status,n="ACTIVE"===e.status?"Block":"Unblock";return r.a.createElement(Ve.a,{title:n},r.a.createElement(Be.a,{checked:t,onChange:function(){return a.handleToggle(e)},value:"checkedB",color:"primary"}))},a._parseList=function(e,t,a){return e?e.map(function(e){return{value:e[t],label:e.name,id:e[a]}}):[]},a.handleSelect=function(e){a.setState({doctorId:e.id}),a.props.getScheduleList(e.id)},a._handleEditHospital=function(e){a.context.router.history.push("/pages/scheduleManagement/editSchedule/".concat(e._id))},a._renderOperation=function(e){return r.a.createElement($.a,{className:"icon",color:"primary",onClick:function(){return a._handleEditHospital(e)}},r.a.createElement("span",{class:"lnr lnr-pencil"}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.getDoctorList(),this.props.getHospitalList(),this.props.clearScheduleList()}},{key:"render",value:function(){var e=this,t=this.props.scheduleList,a=this._parseList(this.props.doctorList,"pdNumber","doctorId"),n=[{label:"Hospital Name",numeric:!1,disablePadding:!0,render:function(e){return e.hospital.name}},{label:"Weekday",numeric:!1,disablePadding:!0,id:"weekday"},{label:"Starttime",numeric:!1,disablePadding:!0,id:"startTime"},{label:"Endtime",numeric:!1,disablePadding:!0,id:"endTime"},{label:"Action",render:function(t){return e._renderOperation(t)}}];return r.a.createElement(ue.a,{md:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("div",{style:{width:200}},r.a.createElement(it,{name:"doctor",type:"text",placeholder:"Doctor",width:240,options:a,renderId:!0,onChange:function(t){return e.handleSelect(t)},filter:!0}))),r.a.createElement(He,{columns:n,data:t}))))}}]),t}(r.a.Component);sa.contextTypes={router:H.a.object};var ca=Object(p.b)(function(e){var t=e.schedule;return{doctorList:t.doctorMasterList,scheduleList:Ue.isEmpty(t)||Ue.isEmpty(t.scheduleList)?[]:t.scheduleList}},function(e){return{getDoctorList:function(){e(zt())},getHospitalList:function(){e(Vt())},getScheduleList:function(t){e(Yt(t))},clearScheduleList:function(){e({type:"RESPONSE_SCHEDULE_LIST",data:[]})}}})(Object(fe.a)(sa)),ma=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"View Schedules"))),r.a.createElement(me.a,null,r.a.createElement(ca,null)))},ua=function(e,t,a){fetch(S.sendAnnouncement,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({title:e,body:t})}).then(function(e){return a(e.status)})},da=function(e){var t=e.input,a=e.meta,n=a.touched,o=a.error,l=e.label;return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},l),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-input-wrap"},r.a.createElement("input",t),o&&n&&r.a.createElement("span",{className:"form__form-group-error"},o))))},pa=function(e){var t=e.input,a=e.meta,n=a.touched,o=a.error,l=e.label;return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},l),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-input-wrap"},r.a.createElement("textarea",t),o&&n&&r.a.createElement("span",{className:"form__form-group-error"},o))))},ha=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleSubmit=function(e){var t=e.title,n=e.message;ua(t,n,function(e){a.props.reset(),a.props.afterPush(e)})},a.state={displayToast:!1,displayMessage:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pristine,a=e.reset,n=e.submitting,o=e.handleSubmit;return r.a.createElement(ue.a,{md:12,lg:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("form",{className:"form form--horizontal",onSubmit:o(this._handleSubmit)},r.a.createElement(Q.a,{name:"title",label:"Title",component:da}),r.a.createElement(Q.a,{name:"message",label:"Message",component:pa}),r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary",type:"submit",disabled:t||n},"Send"),r.a.createElement($.a,{type:"button",onClick:a,disabled:t||n},"Clear"))))))}}]),t}(r.a.Component),fa=Object(X.a)({form:"announcement_form",validate:function(e){var t={};return e.title||(t.title="Title shouldn't be empty"),e.message||(t.message="Message shouldn't be empty"),t}})(Object($e.a)("common")(ha)),ba=a(288),Ea=a.n(ba),ga=function(e){var t=[{id:"date",label:"Date"},{id:"title",label:"Title"},{id:"body",label:"Message"},{id:"action",label:"Action",render:function(t){return r.a.createElement("a",{onClick:function(){return e.onResendClick(t.title,t.body)}},r.a.createElement(Ea.a,{color:"#304ffe"}))}}];return r.a.createElement(ue.a,{md:12,lg:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Previous Announcements")),r.a.createElement(He,{columns:t,data:e.data}))))},va=a(69),_a=a.n(va),ya=a(29),Na=a.n(ya),ka=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={announcements:[],displayToast:!1,displayMessage:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchAnnouncements()}},{key:"_displayToast",value:function(e){Na.a.isEqual(e,200)?this.setState({displayToast:!0,displayMessage:"Message sent successfully"}):this.setState({displayToast:!0,displayMessage:"Error sending message!"})}},{key:"_fetchAnnouncements",value:function(){var e=this;fetch(S.getAnnouncements).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){var t=_a.a.tz(e.date,"Asia/Calcutta").format("DD-MMM-YYYY HH:mm:ss");return Object(de.a)({},e,{date:t})});e.setState({announcements:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Announcement"))),r.a.createElement(me.a,null,r.a.createElement(fa,{afterPush:function(t){e._displayToast(t)}})),r.a.createElement(me.a,null,r.a.createElement(ga,{data:this.state.announcements,onResendClick:function(t,a){ua(t,a,function(t){e._displayToast(t)})}})),this.state.displayToast&&r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return e.setState({displayToast:!1})},message:r.a.createElement("span",{id:"message-id"},this.state.displayMessage)}))}}]),t}(r.a.Component),Oa=function(e){var t=e.input,a=e.label,n=e.meta,o=n.touched,l=n.error,i=e.type,s=e.placeholder;return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},a),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-input-wrap"},r.a.createElement("input",Object.assign({},t,{type:i,placeholder:s})),l&&o&&r.a.createElement("span",{className:"form__form-group-error"},l))))},Sa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleSubmit=function(e){var t=e.mobile,n=e.fullName,r=t;fetch(S.createFrontdeskUser,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({mobile:t,password:r,fullName:n})}).then(function(e){return e.json()}).then(function(e){var t=a.props,n=t.reset,r=t.onResponse;e.status&&n(),r(e)}).catch(function(e){return console.error(e)})},a.state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pristine,a=e.reset,n=e.submitting,o=e.handleSubmit;return r.a.createElement(ue.a,{md:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Create Front-Desk User")),r.a.createElement("form",{className:"form form--horizontal",onSubmit:o(this._handleSubmit)},r.a.createElement(Q.a,{name:"mobile",type:"text",placeholder:"Mobile",label:"Mobile",component:Oa}),r.a.createElement(Q.a,{name:"fullName",type:"text",placeholder:"Full Name",label:"Full Name",component:Oa}),r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary",type:"submit",disabled:t||n},"Create"),r.a.createElement($.a,{type:"button",onClick:a,disabled:t||n},"Clear"))))))}}]),t}(r.a.PureComponent),ja=Object(X.a)({form:"create_frontdeskuser_form",validate:function(e){var t={};return e.mobile||(t.mobile="Mobile number can't be empty"),e.fullName||(t.fullName="Name can't be empty"),t}})(Object($e.a)("common")(Sa)),Ta={VIEW:1,PREEDIT:2,EDIT:3},Da=new Promise(function(e,t){fetch(S.getDoctorMasterList).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return t(e)})}),Ca=new Promise(function(e,t){fetch(S.getHospitalMasterList).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return t(e)})}),wa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleViewSubmit=function(e){var t=e.doctor,n=e.hospital,r=t.value,o=n.value;fetch(S.getDoctorFrontdeskUser+"/".concat(r,"/").concat(o)).then(function(e){return e.json()}).then(function(e){if(console.log(e),Na.a.isNull(e)||Na.a.isEmpty(e))a.setState({showFrontdeskUserField:!0,mode:Ta.EDIT},function(){return a.props.initialize({doctor:t,hospital:n})});else{var r="".concat(e.fullName,"(").concat(e.mobile,")");a.setState({showFrontdeskUserField:!0,mode:Ta.PREEDIT},function(){return a.props.initialize({doctor:t,hospital:n,frontdeskUser:r})})}}).catch(function(e){return console.error(e)})},a._handlePreEditSubmit=function(e){var t=e.doctor,n=e.hospital,r=e.frontdeskUser;a.setState({mode:Ta.EDIT},function(){a.props.initialize({doctor:t,hospital:n,frontdeskUser:r})})},a._handleEditSubmit=function(e){var t=e.doctor,n=e.hospital,r=e.frontdeskUser,o=t.value,l=n.value,i=r.value;fetch(S.linkFrontdeskUser,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({doctorId:o,hospitalId:l,frontdeskUserId:i})}).then(function(e){return e.json()}).then(function(e){e.status&&a._resetForm(),a.props.onResponse(e)}).catch(function(e){return console.error(e)})},a.state={doctorsList:[],hospitalsList:[],frontdeskUsersList:[],mode:Ta.VIEW,showFrontdeskUserField:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;Promise.all([Da,Ca]).then(function(t){var a=t[0].map(function(e){var t=e.pdNumber,a=e.doctorId,n=e.name;return{label:"".concat(n,"(").concat(t,")"),value:a}}),n=t[1].map(function(e){var t=e.pdNumber,a=e.name,n=e.hospitalId;return{label:" ".concat(a,"(").concat(t,")"),value:n}});e.setState({doctorsList:a,hospitalsList:n})}).catch(function(e){return console.error(e)})}},{key:"_resetForm",value:function(){var e=this;this.setState({mode:Ta.VIEW,showFrontdeskUserField:!1},function(){return e.props.initialize({doctor:"",hospital:""})})}},{key:"render",value:function(){var e=this,t=this.state.mode,a=this.props,n=a.pristine,o=a.submitting,l=a.handleSubmit,i=void 0;return Na.a.isEqual(t,Ta.VIEW)?i=this._handleViewSubmit:Na.a.isEqual(t,Ta.PREEDIT)?i=this._handlePreEditSubmit:Na.a.isEqual(t,Ta.EDIT)&&(i=this._handleEditSubmit),r.a.createElement(ue.a,{md:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Link Front-Desk User")),r.a.createElement("form",{className:"form form--horizontal",onSubmit:l(i)},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Doctor"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"doctor",component:it,options:this.state.doctorsList}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Hospital"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"hospital",component:it,options:this.state.hospitalsList}))),this.state.showFrontdeskUserField&&r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Front-desk User"),r.a.createElement("div",{className:"form__form-group-field"},Na.a.isEqual(t,Ta.EDIT)&&r.a.createElement(Q.a,{name:"frontdeskUser",component:it,options:this.props.frontdeskUsersList}),Na.a.isEqual(t,Ta.VIEW)||Na.a.isEqual(t,Ta.PREEDIT)&&r.a.createElement(Q.a,{name:"frontdeskUser",component:"input",type:"text",disabled:!0}))),r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary",type:"submit",disabled:!Na.a.isEqual(t,Ta.PREEDIT)&&n||o},Na.a.isEqual(t,Ta.VIEW)&&"Check",Na.a.isEqual(t,Ta.PREEDIT)&&"Edit",Na.a.isEqual(t,Ta.EDIT)&&"Link"),r.a.createElement($.a,{type:"button",onClick:function(){return e._resetForm()},disabled:!Na.a.isEqual(t,Ta.PREEDIT)&&!Na.a.isEqual(t,Ta.EDIT)&&n||o},"Clear"))))))}}]),t}(r.a.PureComponent),Pa=Object(X.a)({form:"link_frontdeskuser_form",validate:function(e){var t={};return e.doctorId||(t.doctorId="Select a doctor"),e.hospitalId||(t.hospitalId="Select a hospital"),e.frontdeskUserId||(t.frontdeskUserId="Select a front-desk user"),t}})(Object($e.a)("common")(wa)),La=new Promise(function(e,t){fetch(S.getFrontdeskUsersMasterList).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(e){return t(e)})}),Ia=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._displayToast=function(e){a.setState({displayToast:!0,toastMessage:e})},a.state={displayToast:!1,toastMessage:"",frontdeskUsers:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchFrontdeskUsers()}},{key:"_fetchFrontdeskUsers",value:function(){var e=this;Promise.all([La]).then(function(t){var a=t[0].map(function(e){var t=e.frontdeskUserId,a=e.name,n=e.mobile;return{label:"".concat(n," - ").concat(a),value:t}});e.setState({frontdeskUsers:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Front-Desk User"))),r.a.createElement(me.a,null,r.a.createElement(ja,{onResponse:function(t){if(e._displayToast(t.message),t.status){var a=t.frontdeskUsers.map(function(e){var t=e.frontdeskUserId,a=e.name,n=e.mobile;return{label:"".concat(a,"(").concat(n,")"),value:t}});e.setState({frontdeskUsers:a})}}}),r.a.createElement(Pa,{frontdeskUsersList:this.state.frontdeskUsers,onResponse:function(t){t.status&&e._displayToast("Linked successfully")}})),r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return e.setState({displayToast:!1})},message:r.a.createElement("span",{id:"message-id"},this.state.toastMessage)}))}}]),t}(r.a.PureComponent);var xa=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).getColumns=function(e){return[{id:"fullName",numeric:!1,disablePadding:!0,label:"Name"},{id:"username",numeric:!1,disablePadding:!0,label:"Contact"},{id:"action",label:"Block/Unblock",render:function(t){return r.a.createElement(qe,{data:t,status:t.status,id:t._id,loadData:function(){return e.refreshTable()},afterToggle:function(t){return e.onActionComplete(t)}})}}]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.getFdUserList()}},{key:"render",value:function(){return r.a.createElement(ue.a,{md:12,lg:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(He,{columns:this.getColumns(this.props),data:this.props.fdUserList}))))}}]),t}(n.Component);var Ma=Object(p.b)(function(e){var t=e.fduser;return console.log(),{fdUserList:t.fdUserList&&t.fdUserList.users?t.fdUserList.users:[]}},function(e){return{getFdUserList:function(){var t;e((t=S.getFrontDeskUsers,function(e){return O(t).then(function(e){return e.json()}).then(function(t){e({type:"RESPONSE_FRONTDESK_USER_LIST",data:t})})}))}}})(xa),Ua=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={frontdeskUsersList:[],displayToast:!1,displayMessage:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;fetch(S.getFrontdeskList).then(function(e){return e.json()}).then(function(t){e.setState({frontdeskUsersList:t.users})}).catch(function(e){return console.error(e)})}},{key:"_onActionComplete",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Front-Desk Users"))),r.a.createElement(me.a,null,r.a.createElement(Ma,{data:this.state.frontdeskUsersList,refreshTable:function(){return e._fetchData()},onActionComplete:function(t){return e._onActionComplete(t)}})),this.state.displayToast&&r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return e.setState({displayToast:!1})},message:r.a.createElement("span",{id:"message-id"},this.state.displayMessage)}))}}]),t}(r.a.Component),Fa=a(289),Aa=a.n(Fa),Ha=a(290),Ra=a.n(Ha),Ba=a(291),za=a.n(Ba),Va=function(e){var t=[{id:"bookingId",label:"Booking ID"},{id:"tokenDate",label:"Date"},{id:"status",label:"Status",render:function(e){var t=null;switch(e.status){case"CANCELLED":t=r.a.createElement(Aa.a,{color:"#ff1744"});break;case"BOOKED":t=r.a.createElement(za.a,{color:"#f57f17"});break;case"VISITED":t=r.a.createElement(Ra.a,{color:"#2e7d32"})}return t}},{id:"username",label:"Username"},{id:"doctorName",label:"Doctor Name"},{id:"location",label:"Location"},{id:"bookingId",label:"View",render:function(e){return r.a.createElement(y.a,{to:{pathname:"/pages/bookings/viewBookingDetail",state:{bookingId:e.bookingId}}},r.a.createElement(te.a,{color:"#304ffe"}))}}];return r.a.createElement(ue.a,{md:12,lg:12},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement(He,{columns:t,data:e.data}))))},Ya=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={bookings:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;fetch(S.getBookings).then(function(e){return e.json()}).then(function(t){var a=t.map(function(e){var t=e.doctorDetails,a=e.hospitalDetails,n=e.userDetails,r=e.tokenDate;return Object(de.a)({},e,{doctorName:t.fullName,specialization:t.specialization,hospitalName:a.name,location:a.location,username:n.fullName,tokenDate:_a()(r).tz("Asia/Calcutta").format("DD-MM-YYYY")})});e.setState({bookings:a})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return console.log(this.state.bookings),r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Bookings"))),r.a.createElement(me.a,null,r.a.createElement(Va,{data:this.state.bookings})))}}]),t}(r.a.Component),qa=function(e){return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},e.label),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{type:"text",value:e.value,disabled:!0})))},Wa=function(e){var t=e.data,a=t.tokenDate,n=t.token,o=t.bookedTimeStamp,l=t.status,i="green";switch(l){case"CANCELLED":i="red";break;case"BOOKED":i="orange";break;case"VISITED":i="green"}return r.a.createElement(ue.a,{md:6,lg:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Booking Details")),r.a.createElement("div",null,r.a.createElement("form",{className:"form form--horizontal"},r.a.createElement(qa,{label:"Token Date",value:_a()(a).format("DD-MM-YYYY")}),!Na.a.isEqual(n.number,0)&&r.a.createElement(qa,{label:"Token Number",value:n.number}),r.a.createElement(qa,{label:"Token Type",value:n.type}),!Na.a.isEqual(n.number,0)&&r.a.createElement(qa,{label:"Token Time",value:n.time}),r.a.createElement(qa,{label:"Booked Time",value:_a()(o).tz("Asia/Calcutta").format("DD-MM-YYYY HH:mm:ss")}),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("h3",{className:"bold-text",style:{color:i}},l)))))))},Ga=a(99),Ja=a.n(Ga),Ka=function(e){var t=e.data,a=t.fullName,n=t.username,o=t.dateOfBirth,l=t.gender;return r.a.createElement(ue.a,{md:6,lg:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"User Details")),r.a.createElement("div",null,r.a.createElement("form",{className:"form form--horizontal"},r.a.createElement(qa,{label:"Username",value:a}),r.a.createElement(qa,{label:"Mobile",value:n}),r.a.createElement(qa,{label:"DOB",value:Ja()(o).format("DD-MM-YYYY")}),r.a.createElement(qa,{label:"Gender",value:l}))))))},Za=function(e){var t=e.data,a=t.fullName,n=t.specialization,o=t.yearsOfExperience,l=t.degree,i=t.username,s=t.gender;return r.a.createElement(ue.a,{md:6,lg:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Doctor Details")),r.a.createElement("div",null,r.a.createElement("form",{className:"form form--horizontal"},r.a.createElement(qa,{label:"Doctor Name",value:a}),r.a.createElement(qa,{label:"Specialization",value:n}),r.a.createElement(qa,{label:"Years of Experience",value:o}),r.a.createElement(qa,{label:"Degree",value:l}),r.a.createElement(qa,{label:"Mobile",value:i}),r.a.createElement(qa,{label:"Gender",value:s}))))))},$a=function(e){var t=e.data,a=t.name,n=t.address,o=t.location,l=t.pincode;return r.a.createElement(ue.a,{md:6,lg:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Hospital Details")),r.a.createElement("div",null,r.a.createElement("form",{className:"form form--horizontal"},r.a.createElement(qa,{label:"Hospital Name",value:a}),r.a.createElement(qa,{label:"Address",value:n}),r.a.createElement(qa,{label:"Location",value:o}),r.a.createElement(qa,{label:"Pin Code",value:l}))))))},Qa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={bookingDetail:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchData()}},{key:"_fetchData",value:function(){var e=this;fetch(S.getBookingDetail+"/"+this.props.location.state.bookingId).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({bookingDetail:t})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this.state.bookingDetail;return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Booking ID: "+this.props.location.state.bookingId))),!Na.a.isNull(this.state.bookingDetail)&&r.a.createElement("div",null,r.a.createElement(me.a,null,r.a.createElement(Wa,{data:e}),r.a.createElement(Ka,{data:e.userDetails})),r.a.createElement(me.a,null,r.a.createElement(Za,{data:e.doctorDetails}),r.a.createElement($a,{data:e.hospitalDetails}))))}}]),t}(r.a.Component),Xa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleSubmit=function(e){var t=e.contactNumber,n=e.contactEmail;a._updateSupportDetails(t,n)},a._handleEdit=function(){return a.setState({isEditMode:!0})},a.state={isEditMode:!1,contactNumber:"",contactEmail:"",displayToast:!1,displayMessage:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._fetchSupportDetails()}},{key:"_fetchSupportDetails",value:function(){var e=this;fetch(S.getSupportDetails).then(function(e){return e.json()}).then(function(t){var a=t.contactNumber,n=t.contactEmail;e.setState({contactNumber:a,contactEmail:n},function(){return e.props.initialize({contactNumber:a,contactEmail:n})})})}},{key:"_updateSupportDetails",value:function(e,t){var a=this;fetch(S.setSupportDetails,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({contactNumber:e,contactEmail:t})}).then(function(e){e.status?a.setState({displayToast:!0,displayMessage:"Customer Care details updated successfully",isEditMode:!1}):a.setState({displayToast:!1,displayMessage:"Customer Care details updation failure."})})}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit,a=this.state.isEditMode;return r.a.createElement(ue.a,{md:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Contact Details")),r.a.createElement("form",{className:"form form--horizontal",onSubmit:this.state.isEditMode?t(this._handleSubmit):t(this._handleEdit)},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Contact Number"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"contactNumber",component:"input",type:"text",placeholder:"Contact Number",disabled:!a,minLength:10,maxLength:10}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Contact Email"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"contactEmail",component:"input",type:"email",placeholder:"Contact Email",disabled:!a}))),r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary"},this.state.isEditMode?"Save":"Edit")),this.state.displayToast&&r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return e.setState({displayToast:!1})},message:r.a.createElement("span",{id:"message-id"},this.state.displayMessage)})))))}}]),t}(r.a.Component),en=Object(X.a)({form:"customercare_form"})(Object($e.a)("common")(Xa)),tn=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Customer Care"))),r.a.createElement(me.a,null,r.a.createElement(en,null)))},an=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e)))._handleSubmit=function(e){var t=e.currentPassword,n=e.newPassword;fetch(S.changePassword,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({currentPassword:t,newPassword:n})}).then(function(e){return e.json()}).then(function(e){return a.setState({displayToast:!0,displayMessage:e.message},function(){e.status&&a.props.reset()})}).catch(function(e){return console.log(e)})},a.showPassword=function(e){e.preventDefault(),a.setState(function(e){return{showPassword:!e.showPassword}})},a.state={displayToast:!1,displayMessage:"",showPassword:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.pristine,n=t.reset,o=t.submitting,l=t.handleSubmit,i=this.state.showPassword;return r.a.createElement(ue.a,{md:6},r.a.createElement(pe.a,null,r.a.createElement(he.a,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Change Password")),r.a.createElement("form",{className:"form form--horizontal",onSubmit:l(this._handleSubmit)},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Current Password"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"currentPassword",component:"input",type:"password",placeholder:"Current Password",minLength:6}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"New Passoword"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(Q.a,{name:"newPassword",component:"input",type:i?"text":"password",placeholder:"New password",minLength:6}),r.a.createElement("button",{className:"form__form-group-button".concat(i?" active":""),onClick:function(t){return e.showPassword(t)},type:"button"},r.a.createElement(te.a,null)))),r.a.createElement(Ke.a,{className:"form__button-toolbar"},r.a.createElement($.a,{color:"primary",type:"submit"},"Save"),r.a.createElement($.a,{type:"button",onClick:n,disabled:a||o},"Clear")),this.state.displayToast&&r.a.createElement(Xe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:this.state.displayToast,ContentProps:{"aria-describedby":"message-id"},onClose:function(){return e.setState({displayToast:!1})},message:r.a.createElement("span",{id:"message-id"},this.state.displayMessage)})))))}}]),t}(r.a.PureComponent),nn=Object(X.a)({form:"change_password_form"})(Object($e.a)("common")(an)),rn=function(){return r.a.createElement(ce.a,{className:"dashboard"},r.a.createElement(me.a,null,r.a.createElement(ue.a,{md:12},r.a.createElement("h3",{className:"page-title"},"Settings"))),r.a.createElement(me.a,null,r.a.createElement(nn,null)))},on=function(){return r.a.createElement(o.a,null,r.a.createElement(l.a,{path:"/pages/userManagement/viewUsers",component:Je}),r.a.createElement(l.a,{path:"/pages/doctorManagement/createDoctor",component:Ot}),r.a.createElement(l.a,{path:"/pages/doctorManagement/editDoctor/:doctorId",component:St}),r.a.createElement(l.a,{path:"/pages/doctorManagement/viewDoctors",component:Dt}),r.a.createElement(l.a,{path:"/pages/hospitalManagement/createHospital",component:Mt}),r.a.createElement(l.a,{path:"/pages/hospitalManagement/editHospital/:hospitalId",component:Ut}),r.a.createElement(l.a,{path:"/pages/hospitalManagement/viewHospitals",component:Ht}),r.a.createElement(l.a,{path:"/pages/scheduleManagement/createSchedule",component:la}),r.a.createElement(l.a,{path:"/pages/scheduleManagement/editSchedule",component:ia}),r.a.createElement(l.a,{path:"/pages/scheduleManagement/viewSchedules",component:ma}),r.a.createElement(l.a,{path:"/pages/announcement",component:ka}),r.a.createElement(l.a,{path:"/pages/frontdeskUsers/createFrontdeskUser",component:Ia}),r.a.createElement(l.a,{path:"/pages/frontdeskUsers/viewFrontdeskUsers",component:Ua}),r.a.createElement(l.a,{path:"/pages/bookings/viewBookings",component:Ya}),r.a.createElement(l.a,{path:"/pages/bookings/viewBookingDetail",component:Qa}),r.a.createElement(l.a,{path:"/pages/customerCare",component:tn}),r.a.createElement(l.a,{path:"/pages/settings",component:rn}))},ln=function(){return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("div",{className:"container__wrap",style:{height:"100%"}},r.a.createElement(l.a,{path:"/pages",component:on})))};t.a=function(){return r.a.createElement(Z,null,r.a.createElement("main",null,r.a.createElement(o.a,null,r.a.createElement(l.a,{exact:!0,path:"/",component:se}),r.a.createElement(l.a,{exact:!0,path:"/log_in",component:se}),r.a.createElement(l.a,{path:"/",component:ln}))))}},296:function(e,t,a){"use strict";var n=a(30),r=a(628),o=a(84),l={className:"theme-light"},i=a(21),s=a(85),c={show:!1,collapse:!1},m=a(292),u=Object(n.c)({form:r.a,theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;switch((arguments.length>1?arguments[1]:void 0).type){case o.a:return{className:"theme-dark"};case o.b:return{className:"theme-light"};default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;switch((arguments.length>1?arguments[1]:void 0).type){case s.b:return Object(i.a)({},e,{collapse:!e.collapse});case s.a:return Object(i.a)({},e,{show:!e.show});default:return e}},doctor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_DOCTORLIST":return Object(i.a)({},e,{doctorList:t.data});case"RESPONSE_SPECIALIZATIONLIST":return Object(i.a)({},e,{specialization:t.data});case"RESPONSE_DOCTORDETAIL":return Object(i.a)({},e,{doctorDetail:t.data});default:return e}},hospital:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_HOSPITALLIST":return Object(i.a)({},e,{hospitalList:t.data});case"RESPONSE_HOSPITALDETAIL":return Object(i.a)({},e,{hospitalDetail:t.data});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_CUSTOMERLIST":return Object(i.a)({},e,{customerList:t.data});default:return e}},schedule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_DOCTOR_MASTERLIST":return Object(i.a)({},e,{doctorMasterList:t.data});case"RESPONSE_HOSPITAL_MASTERLIST":return Object(i.a)({},e,{hospitalMasterList:t.data});case"RESPONSE_SCHEDULE_LIST":return Object(i.a)({},e,{scheduleList:t.data});case"RESPONSE_SCHEDULE_DETAIL":return Object(i.a)({},e,{scheduleDetail:t.data});default:return e}},fduser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESPONSE_FRONTDESK_USER_LIST":return Object(i.a)({},e,{fdUserList:t.data});default:return e}}}),d=Object(n.d)(u,Object(n.a)(m.a));t.a=d},302:function(e,t,a){e.exports=a(303)},303:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),l=a(263);Object(o.render)(r.a.createElement(l.a,null),document.getElementById("root"))},312:function(e,t,a){},84:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return o}),a.d(t,"d",function(){return l});var n="CHANGE_THEME_TO_DARK",r="CHANGE_THEME_TO_LIGHT";function o(){return{type:n}}function l(){return{type:r}}},85:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"c",function(){return l});var n="CHANGE_SIDEBAR_VISIBILITY",r="CHANGE_MOBILE_SIDEBAR_VISIBILITY";function o(){return{type:n}}function l(){return{type:r}}}},[[302,1,2]]]);
//# sourceMappingURL=main.3f6b2513.chunk.js.map